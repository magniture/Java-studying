### 按钮置灰

对于一些简单的业务，可以直接让前端设置按钮置灰，就是在后端没有返回值时，让按钮置灰，前端根据返回值来判断是否显示。

### 预生成唯一的订单号

在后端新增一个接口，用于预生成一个“全局唯一的ID”，进入创建订单时，前端要先获取这个接口，然后将这个ID作为订单号。 
在提交订单时，请求参数里要带上这个预生成的“全局唯一订单号”，利用数据库的唯一索引特性，在插入订单记录时，如果该“全局唯一的订单号”重复，记录会插入失败。

### 从业务上解决

可以用 ”用户ID + 分隔符 + 商品ID“ 作为唯一标识，让持有相同标识的请求在短时间内不能重复下单，不就可以了吗？而且，Redis不正是做这种解决方案的利器吗？ 
这样一来，整体业务步骤如下：

（1）在提交订单时，我们可以把”用户ID + 分隔符 + 商品ID“作为Redis key，并设置过期时间，让它可以到期自动删除。

（2）若Redis命令执行成功，则可以继续走下单的业务逻辑，执行不成功，直接返回给前端”下单失败“就可以了。
